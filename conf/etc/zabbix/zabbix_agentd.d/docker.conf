# discovery
UserParameter=docker.discovery.containers,/etc/zabbix/scripts/docker-containers.sh
UserParameter=docker.discovery.processes,/etc/zabbix/scripts/docker-processes.sh
UserParameter=docker.monitoring,/etc/zabbix/scripts/docker-monitoring.sh

# monitors
UserParameter=custom.entropy,cat /zbx/proc/sys/kernel/random/entropy_avail
UserParameter=custom.fd.current,awk '{print $1-$2}' < /zbx/proc/sys/fs/file-nr
UserParameter=custom.fd.max,awk '{print $3}' < /zbx/proc/sys/fs/file-nr
UserParameter=custom.net.listen,ss -tanu | grep LISTEN | wc -l
UserParameter=custom.net.waiting,ss -tanu | grep TIME-WAIT | wc -l
UserParameter=custom.net.established,ss -tanpu | grep ESTAB | wc -l
UserParameter=custom.net.tcp,ss -tan | wc -l
UserParameter=custom.net.tcp4,ss -tan4 | wc -l
UserParameter=custom.net.tcp6,ss -tan6 | wc -l
UserParameter=custom.net.udp,ss -uan | wc -l
UserParameter=custom.net.udp4,ss -uan4 | wc -l
UserParameter=custom.net.udp6,ss -uan6 | wc -l
UserParameter=custom.proc.low,ps --no-header -eo stat | grep \< | wc -l
UserParameter=custom.proc.high,ps --no-header -eo stat | grep N | wc -l
UserParameter=custom.proc.lock,ps --no-header -eo stat | grep L | wc -l
UserParameter=custom.proc.fork,grep process /zbx/proc/stat | cut -d' ' -f 2
UserParameter=custom.proc.threads,grep -s '^Threads' /zbx/proc/[0-9]*/status | awk '{ sum += $2; } END { print sum; }'
UserParameter=custom.vfs.dev.read.ops[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$4}'
UserParameter=custom.vfs.dev.read.ms[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$7}'
UserParameter=custom.vfs.dev.write.ops[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$8}'
UserParameter=custom.vfs.dev.write.ms[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$11}'
UserParameter=custom.vfs.dev.io.active[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$12}'
UserParameter=custom.vfs.dev.io.ms[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$13}'
UserParameter=custom.vfs.dev.read.sectors[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$6}'
UserParameter=custom.vfs.dev.write.sectors[*],cat /zbx/proc/diskstats | grep "$1" | head -1 | awk '{print $$10}'
